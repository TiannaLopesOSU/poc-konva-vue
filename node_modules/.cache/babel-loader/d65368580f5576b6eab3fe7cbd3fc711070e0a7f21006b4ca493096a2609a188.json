{"ast":null,"code":"import Konva from \"konva\";\nexport default {\n  data() {\n    return {\n      mode: \"brush\",\n      isPaint: false,\n      lastPointerPosition: null,\n      brushColor: \"#df4b26\",\n      // Initial brush color\n      canvas: null // Add a variable for the canvas\n    };\n  },\n\n  mounted() {\n    // ... (existing code)\n\n    // Create a canvas element and add it to the layer\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = stage.width();\n    this.canvas.height = stage.height();\n    const canvas = this.canvas;\n    const image = new Konva.Image({\n      image: canvas,\n      x: 0,\n      y: 0\n    });\n    layer.add(image);\n\n    // Get the 2D context\n    const context = canvas.getContext(\"2d\");\n    context.strokeStyle = this.brushColor; // Set the brush color\n\n    // Bind events\n    // ... (existing code)\n  },\n\n  methods: {\n    updateBrushColor() {\n      // Handle color input changes here if needed\n      const context = this.canvas.getContext(\"2d\");\n      context.strokeStyle = this.brushColor;\n    }\n  }\n};","map":{"version":3,"names":["Konva","data","mode","isPaint","lastPointerPosition","brushColor","canvas","mounted","document","createElement","width","stage","height","image","Image","x","y","layer","add","context","getContext","strokeStyle","methods","updateBrushColor"],"sources":["/Users/lopesti/WebTeam/poc-konva-vue/src/components/KonvaDrawing.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-8\">\n        <div class=\"border p-3\">\n          <div class=\"dropdown\">\n            <button\n              class=\"btn btn-secondary dropdown-toggle\"\n              type=\"button\"\n              id=\"dropdownMenuButton\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n            >\n              Tool:\n            </button>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n              <li>\n                <a class=\"dropdown-item\" @click=\"mode = 'brush'\">Brush</a>\n              </li>\n              <li>\n                <a class=\"dropdown-item\" @click=\"mode = 'eraser'\">Eraser</a>\n              </li>\n            </ul>\n          </div>\n          <input\n            type=\"color\"\n            v-model=\"brushColor\"\n            class=\"form-control mt-3\"\n            @input=\"updateBrushColor\"\n          />\n          <div ref=\"container\" class=\"drawing-area mt-3\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Konva from \"konva\";\n\nexport default {\n  data() {\n    return {\n      mode: \"brush\",\n      isPaint: false,\n      lastPointerPosition: null,\n      brushColor: \"#df4b26\", // Initial brush color\n      canvas: null, // Add a variable for the canvas\n    };\n  },\n  mounted() {\n    // ... (existing code)\n\n    // Create a canvas element and add it to the layer\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = stage.width();\n    this.canvas.height = stage.height();\n    const canvas = this.canvas;\n\n    const image = new Konva.Image({\n      image: canvas,\n      x: 0,\n      y: 0,\n    });\n    layer.add(image);\n\n    // Get the 2D context\n    const context = canvas.getContext(\"2d\");\n    context.strokeStyle = this.brushColor; // Set the brush color\n\n    // Bind events\n    // ... (existing code)\n  },\n  methods: {\n    updateBrushColor() {\n      // Handle color input changes here if needed\n      const context = this.canvas.getContext(\"2d\");\n      context.strokeStyle = this.brushColor;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"mappings":"AAsCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,OAAO;MACbC,OAAO,EAAE,KAAK;MACdC,mBAAmB,EAAE,IAAI;MACzBC,UAAU,EAAE,SAAS;MAAE;MACvBC,MAAM,EAAE,IAAI,CAAE;IAChB,CAAC;EACH,CAAC;;EACDC,OAAOA,CAAA,EAAG;IACR;;IAEA;IACA,IAAI,CAACD,MAAK,GAAIE,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC9C,IAAI,CAACH,MAAM,CAACI,KAAI,GAAIC,KAAK,CAACD,KAAK,CAAC,CAAC;IACjC,IAAI,CAACJ,MAAM,CAACM,MAAK,GAAID,KAAK,CAACC,MAAM,CAAC,CAAC;IACnC,MAAMN,MAAK,GAAI,IAAI,CAACA,MAAM;IAE1B,MAAMO,KAAI,GAAI,IAAIb,KAAK,CAACc,KAAK,CAAC;MAC5BD,KAAK,EAAEP,MAAM;MACbS,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE;IACL,CAAC,CAAC;IACFC,KAAK,CAACC,GAAG,CAACL,KAAK,CAAC;;IAEhB;IACA,MAAMM,OAAM,GAAIb,MAAM,CAACc,UAAU,CAAC,IAAI,CAAC;IACvCD,OAAO,CAACE,WAAU,GAAI,IAAI,CAAChB,UAAU,EAAE;;IAEvC;IACA;EACF,CAAC;;EACDiB,OAAO,EAAE;IACPC,gBAAgBA,CAAA,EAAG;MACjB;MACA,MAAMJ,OAAM,GAAI,IAAI,CAACb,MAAM,CAACc,UAAU,CAAC,IAAI,CAAC;MAC5CD,OAAO,CAACE,WAAU,GAAI,IAAI,CAAChB,UAAU;IACvC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}