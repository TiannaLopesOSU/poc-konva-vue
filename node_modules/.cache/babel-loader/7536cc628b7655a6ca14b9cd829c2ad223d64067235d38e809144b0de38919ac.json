{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*!\n * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme\n * MIT Licensed\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"vue\"), require(\"konva\"));else if (typeof define === 'function' && define.amd) define([\"vue\", \"konva\"], factory);else if (typeof exports === 'object') exports[\"VueKonva\"] = factory(require(\"vue\"), require(\"konva\"));else root[\"VueKonva\"] = factory(root[\"Vue\"], root[\"Konva\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/\n      var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/\n      function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/\n      __webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/\n      __webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // define __esModule on exports\n      /******/\n      __webpack_require__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n      /******/ // create a fake namespace object\n      /******/ // mode & 1: value is a module id, require it\n      /******/ // mode & 2: merge all properties of value into the ns\n      /******/ // mode & 4: return value when already ns object\n      /******/ // mode & 8|1: behave like require\n      /******/\n      __webpack_require__.t = function (value, mode) {\n        /******/if (mode & 1) value = __webpack_require__(value);\n        /******/\n        if (mode & 8) return value;\n        /******/\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n        var ns = Object.create(null);\n        /******/\n        __webpack_require__.r(ns);\n        /******/\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n        return ns;\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/\n      __webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ? /******/function getDefault() {\n          return module['default'];\n        } : /******/function getModuleExports() {\n          return module;\n        };\n        /******/\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n        return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/\n      __webpack_require__.p = \"\";\n      /******/\n      /******/\n      /******/ // Load entry module and return exports\n      /******/\n      return __webpack_require__(__webpack_require__.s = 2);\n      /******/\n    }\n    /************************************************************************/\n    /******/([/* 0 */\n    /***/function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n      /***/\n    }, /* 1 */\n    /***/function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n\n      /***/\n    }, /* 2 */\n    /***/function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(3);\n\n      /***/\n    }, /* 3 */\n    /***/function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      // ESM COMPAT FLAG\n      __webpack_require__.r(__webpack_exports__);\n\n      // EXTERNAL MODULE: external {\"root\":\"Vue\",\"commonjs2\":\"vue\",\"commonjs\":\"vue\",\"amd\":\"vue\"}\n      var external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_ = __webpack_require__(0);\n\n      // EXTERNAL MODULE: external {\"root\":\"Konva\",\"commonjs2\":\"konva\",\"commonjs\":\"konva\",\"amd\":\"konva\"}\n      var external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_ = __webpack_require__(1);\n      var external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_default = /*#__PURE__*/__webpack_require__.n(external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_);\n\n      // CONCATENATED MODULE: ./src/utils/updatePicture.js\n      // adapted FROM: https://github.com/lavrton/react-konva/blob/master/src/react-konva-fiber.js\n\n      function updatePicture(node) {\n        if (!external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_default.a.autoDrawEnabled) {\n          var drawingNode = node.getLayer() || node.getStage();\n          drawingNode && drawingNode.batchDraw();\n        }\n      }\n      // CONCATENATED MODULE: ./src/utils/applyNodeProps.js\n      // adapted FROM: https://github.com/lavrton/react-konva/blob/master/src/react-konva-fiber.js\n\n      var propsToSkip = {\n        key: true,\n        style: true,\n        elm: true,\n        isRootInsert: true\n      };\n      var EVENTS_NAMESPACE = '.vue-konva-event';\n      function applyNodeProps(vueComponent, props, oldProps, useStrict) {\n        if (props === void 0) {\n          props = {};\n        }\n        if (oldProps === void 0) {\n          oldProps = {};\n        }\n        var instance = vueComponent.__konvaNode;\n        var updatedProps = {};\n        var hasUpdates = false;\n        for (var key in oldProps) {\n          if (propsToSkip[key]) {\n            continue;\n          }\n          var isEvent = key.slice(0, 2) === 'on';\n          var propChanged = oldProps[key] !== props[key];\n          if (isEvent && propChanged) {\n            var eventName = key.substr(2).toLowerCase();\n            if (eventName.substr(0, 7) === 'content') {\n              eventName = 'content' + eventName.substr(7, 1).toUpperCase() + eventName.substr(8);\n            }\n            instance.off(eventName + EVENTS_NAMESPACE, oldProps[key]);\n          }\n          var toRemove = !props.hasOwnProperty(key);\n          if (toRemove) {\n            instance.setAttr(key, undefined);\n          }\n        }\n        for (var _key in props) {\n          if (propsToSkip[_key]) {\n            continue;\n          }\n          var _isEvent = _key.slice(0, 2) === 'on';\n          var toAdd = oldProps[_key] !== props[_key];\n          if (_isEvent && toAdd) {\n            var _eventName = _key.substr(2).toLowerCase();\n            if (_eventName.substr(0, 7) === 'content') {\n              _eventName = 'content' + _eventName.substr(7, 1).toUpperCase() + _eventName.substr(8);\n            }\n            if (props[_key]) {\n              instance.off(_eventName + EVENTS_NAMESPACE);\n              instance.on(_eventName + EVENTS_NAMESPACE, props[_key]);\n            }\n          }\n          if (!_isEvent && (props[_key] !== oldProps[_key] || useStrict && props[_key] !== instance.getAttr(_key))) {\n            hasUpdates = true;\n            updatedProps[_key] = props[_key];\n          }\n        }\n        if (hasUpdates) {\n          instance.setAttrs(updatedProps);\n          updatePicture(instance);\n        }\n      }\n      // CONCATENATED MODULE: ./src/utils/index.js\n\n      var componentPrefix = 'v';\n      function copy(obj) {\n        return JSON.parse(JSON.stringify(obj));\n      }\n      function findParentKonva(instance) {\n        function re(instance) {\n          if (instance.__konvaNode) {\n            return instance;\n          }\n          if (instance.parent) {\n            return re(instance.parent);\n          }\n          console.error('vue-konva error: Can not find parent node');\n          return {};\n        }\n        return re(instance.parent);\n      }\n      function findKonvaNode(instance) {\n        if (instance === null || instance === void 0 ? void 0 : instance.component) {\n          return instance.component.__konvaNode || findKonvaNode(instance.component.subTree);\n        }\n      }\n      function checkTagAndGetNode(instance) {\n        var el = instance.el,\n          component = instance.component;\n        var __konvaNode = findKonvaNode(instance);\n        if ((el === null || el === void 0 ? void 0 : el.tagName) && component && !__konvaNode) {\n          var name = el && el.tagName.toLowerCase();\n          console.error(\"vue-konva error: You are trying to render \\\"\" + name + \"\\\" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.\");\n          return null;\n        }\n        return __konvaNode;\n      }\n      function getChildren(instance) {\n        var collection = [];\n        if (instance.children) {\n          instance.children.forEach(function (child) {\n            // TODO: simplify deep nesting with recursion\n            if (!child.component && Array.isArray(child.children)) {\n              child.children.forEach(function (subChild) {\n                if (!subChild.component && Array.isArray(subChild.children)) {\n                  collection.push.apply(collection, subChild.children);\n                } else {\n                  collection.push(subChild);\n                }\n              });\n            }\n            if (child.component) {\n              collection.push(child);\n            }\n          });\n        }\n        return collection;\n      }\n      function checkOrder(subTree, konvaNode) {\n        var children = getChildren(subTree);\n        var nodes = [];\n        children.forEach(function (child) {\n          var konvaNode = checkTagAndGetNode(child);\n          if (konvaNode) {\n            nodes.push(konvaNode);\n          }\n        });\n        var needRedraw = false;\n        nodes.forEach(function (konvaNode, index) {\n          if (konvaNode.getZIndex() !== index) {\n            konvaNode.setZIndex(index);\n            needRedraw = true;\n          }\n        });\n        if (needRedraw) {\n          updatePicture(konvaNode);\n        }\n      }\n\n      // CONCATENATED MODULE: ./src/components/Stage.js\n      function _extends() {\n        _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n          return target;\n        };\n        return _extends.apply(this, arguments);\n      }\n\n      /* harmony default export */\n      var Stage = {\n        props: {\n          config: {\n            type: Object,\n            default: function _default() {\n              return {};\n            }\n          },\n          __useStrictMode: {\n            type: Boolean\n          }\n        },\n        inheritAttrs: false,\n        setup: function setup(props, _ref) {\n          var attrs = _ref.attrs,\n            slots = _ref.slots,\n            expose = _ref.expose,\n            emits = _ref.emits;\n          var instance = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"getCurrentInstance\"])();\n          var oldProps = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"reactive\"])({});\n          var container = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"ref\"])(null);\n          var __konvaNode = new window.Konva.Stage({\n            width: props.config.width,\n            height: props.config.height,\n            container: document.createElement('div') // Fake container. Will be replaced\n          });\n\n          instance.__konvaNode = __konvaNode; // Save on component instance\n\n          uploadKonva();\n          function getNode() {\n            return instance.__konvaNode;\n          }\n          function getStage() {\n            return instance.__konvaNode;\n          }\n          function uploadKonva() {\n            var existingProps = oldProps || {};\n            var newProps = _extends({}, attrs, props.config);\n            applyNodeProps(instance, newProps, existingProps, props.__useStrictMode);\n            Object.assign(oldProps, newProps);\n          }\n          function validateChildren() {\n            return null;\n          }\n          Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onMounted\"])(function () {\n            container.value.innerHTML = '';\n            __konvaNode.container(container.value);\n            uploadKonva();\n            validateChildren();\n          });\n          Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onUpdated\"])(function () {\n            uploadKonva();\n            checkOrder(instance.subTree, __konvaNode);\n          });\n          Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onBeforeUnmount\"])(function () {\n            __konvaNode.destroy();\n          });\n          Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"watch\"])(function () {\n            return props.config;\n          }, uploadKonva, {\n            deep: true\n          });\n          expose({\n            getStage: getStage,\n            getNode: getNode\n          }); // Loop order test appears to be problem with an empty v-for on layer objects\n          //     - When the second item is added to the list we get a Vue internals bug.\n          //     - Possibly related to https://github.com/vuejs/vue-next/issues/2715\n\n          return function () {\n            var _slots$default;\n            return Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"h\"])('div', {\n              ref: container\n            }, (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots));\n          };\n        }\n      };\n      // CONCATENATED MODULE: ./src/components/KonvaNode.js\n      function KonvaNode_extends() {\n        KonvaNode_extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n          return target;\n        };\n        return KonvaNode_extends.apply(this, arguments);\n      }\n      var KonvaNode_EVENTS_NAMESPACE = '.vue-konva-event';\n      var CONTAINERS = {\n        Group: true,\n        Layer: true,\n        FastLayer: true,\n        Label: true\n      };\n      /* harmony default export */\n      var KonvaNode = function (nameNode) {\n        return {\n          props: {\n            config: {\n              type: Object,\n              default: function _default() {\n                return {};\n              }\n            },\n            __useStrictMode: {\n              type: Boolean\n            }\n          },\n          setup: function setup(props, _ref) {\n            var attrs = _ref.attrs,\n              slots = _ref.slots,\n              expose = _ref.expose;\n            var instance = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"getCurrentInstance\"])();\n            var oldProps = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"reactive\"])({});\n            var NodeClass = window.Konva[nameNode];\n            if (!NodeClass) {\n              console.error('vue-konva error: Can not find node ' + nameNode);\n              return;\n            }\n            var __konvaNode = new NodeClass();\n            instance.__konvaNode = __konvaNode;\n            instance.vnode.__konvaNode = __konvaNode;\n            uploadKonva();\n            function getNode() {\n              return instance.__konvaNode;\n            }\n            function getStage() {\n              return instance.__konvaNode;\n            }\n            function uploadKonva() {\n              var events = {};\n              for (var key in instance.vnode.props) {\n                if (key.slice(0, 2) === 'on') {\n                  events[key] = instance.vnode.props[key];\n                }\n              }\n              var existingProps = oldProps || {};\n              var newProps = KonvaNode_extends({}, attrs, props.config, events);\n              applyNodeProps(instance, newProps, existingProps, props.__useStrictMode);\n              Object.assign(oldProps, newProps);\n            }\n            Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onMounted\"])(function () {\n              var parentKonvaNode = findParentKonva(instance).__konvaNode;\n              parentKonvaNode.add(__konvaNode);\n              updatePicture(__konvaNode);\n            });\n            Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onUnmounted\"])(function () {\n              updatePicture(__konvaNode);\n              __konvaNode.destroy();\n              __konvaNode.off(KonvaNode_EVENTS_NAMESPACE);\n            });\n            Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onUpdated\"])(function () {\n              uploadKonva();\n              checkOrder(instance.subTree, __konvaNode);\n            });\n            Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"watch\"])(function () {\n              return props.config;\n            }, uploadKonva, {\n              deep: true\n            });\n            expose({\n              getStage: getStage,\n              getNode: getNode\n            });\n            var isContainer = CONTAINERS[nameNode];\n            return isContainer ? function () {\n              var _slots$default;\n              return Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"h\"])('template', {}, (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots));\n            } : function () {\n              return null;\n            };\n          }\n        };\n      };\n      // CONCATENATED MODULE: ./src/index.js\n\n      if (typeof window !== 'undefined' && !window.Konva) {\n        __webpack_require__(1);\n      }\n      var KONVA_NODES = ['Layer', 'FastLayer', 'Group', 'Label', 'Rect', 'Circle', 'Ellipse', 'Wedge', 'Line', 'Sprite', 'Image', 'Text', 'TextPath', 'Star', 'Ring', 'Arc', 'Tag', 'Path', 'RegularPolygon', 'Arrow', 'Shape', 'Transformer'];\n      var components = [{\n        name: 'Stage',\n        component: Stage\n      }].concat(KONVA_NODES.map(function (name) {\n        return {\n          name: name,\n          component: KonvaNode(name)\n        };\n      }));\n      var VueKonva = {\n        install: function install(app, options) {\n          var prefixToUse = componentPrefix;\n          if (options && options.prefix) {\n            prefixToUse = options.prefix;\n          }\n          components.forEach(function (k) {\n            app.component(\"\" + prefixToUse + k.name, k.component);\n          });\n        }\n      };\n      /* harmony default export */\n      var src = __webpack_exports__[\"default\"] = VueKonva;\n\n      /***/\n    }\n    /******/])[\"default\"]\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_","external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_","external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_default","updatePicture","node","a","autoDrawEnabled","drawingNode","getLayer","getStage","batchDraw","propsToSkip","style","elm","isRootInsert","EVENTS_NAMESPACE","applyNodeProps","vueComponent","props","oldProps","useStrict","instance","__konvaNode","updatedProps","hasUpdates","isEvent","slice","propChanged","eventName","substr","toLowerCase","toUpperCase","off","toRemove","setAttr","undefined","_key","_isEvent","toAdd","_eventName","on","getAttr","setAttrs","componentPrefix","copy","obj","JSON","parse","stringify","findParentKonva","re","parent","console","error","findKonvaNode","component","subTree","checkTagAndGetNode","el","tagName","getChildren","collection","children","forEach","child","Array","isArray","subChild","push","apply","checkOrder","konvaNode","nodes","needRedraw","index","getZIndex","setZIndex","_extends","assign","target","arguments","length","source","Stage","config","type","default","_default","__useStrictMode","Boolean","inheritAttrs","setup","_ref","attrs","slots","expose","emits","container","window","Konva","width","height","document","createElement","uploadKonva","getNode","existingProps","newProps","validateChildren","innerHTML","destroy","deep","_slots$default","ref","KonvaNode_extends","KonvaNode_EVENTS_NAMESPACE","CONTAINERS","Group","Layer","FastLayer","Label","KonvaNode","nameNode","NodeClass","vnode","events","parentKonvaNode","add","isContainer","KONVA_NODES","components","concat","map","VueKonva","install","app","options","prefixToUse","prefix","k","src"],"sources":["/Users/lopesti/WebTeam/poc-konva-vue/node_modules/vue-konva/umd/vue-konva.js"],"sourcesContent":["/*!\n * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme\n * MIT Licensed\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"), require(\"konva\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"vue\", \"konva\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueKonva\"] = factory(require(\"vue\"), require(\"konva\"));\n\telse\n\t\troot[\"VueKonva\"] = factory(root[\"Vue\"], root[\"Konva\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(3);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: external {\"root\":\"Vue\",\"commonjs2\":\"vue\",\"commonjs\":\"vue\",\"amd\":\"vue\"}\nvar external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_ = __webpack_require__(0);\n\n// EXTERNAL MODULE: external {\"root\":\"Konva\",\"commonjs2\":\"konva\",\"commonjs\":\"konva\",\"amd\":\"konva\"}\nvar external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_ = __webpack_require__(1);\nvar external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_default = /*#__PURE__*/__webpack_require__.n(external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_);\n\n// CONCATENATED MODULE: ./src/utils/updatePicture.js\n// adapted FROM: https://github.com/lavrton/react-konva/blob/master/src/react-konva-fiber.js\n\nfunction updatePicture(node) {\n  if (!external_root_Konva_commonjs2_konva_commonjs_konva_amd_konva_default.a.autoDrawEnabled) {\n    var drawingNode = node.getLayer() || node.getStage();\n    drawingNode && drawingNode.batchDraw();\n  }\n}\n// CONCATENATED MODULE: ./src/utils/applyNodeProps.js\n// adapted FROM: https://github.com/lavrton/react-konva/blob/master/src/react-konva-fiber.js\n\nvar propsToSkip = {\n  key: true,\n  style: true,\n  elm: true,\n  isRootInsert: true\n};\nvar EVENTS_NAMESPACE = '.vue-konva-event';\nfunction applyNodeProps(vueComponent, props, oldProps, useStrict) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  if (oldProps === void 0) {\n    oldProps = {};\n  }\n\n  var instance = vueComponent.__konvaNode;\n  var updatedProps = {};\n  var hasUpdates = false;\n\n  for (var key in oldProps) {\n    if (propsToSkip[key]) {\n      continue;\n    }\n\n    var isEvent = key.slice(0, 2) === 'on';\n    var propChanged = oldProps[key] !== props[key];\n\n    if (isEvent && propChanged) {\n      var eventName = key.substr(2).toLowerCase();\n\n      if (eventName.substr(0, 7) === 'content') {\n        eventName = 'content' + eventName.substr(7, 1).toUpperCase() + eventName.substr(8);\n      }\n\n      instance.off(eventName + EVENTS_NAMESPACE, oldProps[key]);\n    }\n\n    var toRemove = !props.hasOwnProperty(key);\n\n    if (toRemove) {\n      instance.setAttr(key, undefined);\n    }\n  }\n\n  for (var _key in props) {\n    if (propsToSkip[_key]) {\n      continue;\n    }\n\n    var _isEvent = _key.slice(0, 2) === 'on';\n\n    var toAdd = oldProps[_key] !== props[_key];\n\n    if (_isEvent && toAdd) {\n      var _eventName = _key.substr(2).toLowerCase();\n\n      if (_eventName.substr(0, 7) === 'content') {\n        _eventName = 'content' + _eventName.substr(7, 1).toUpperCase() + _eventName.substr(8);\n      }\n\n      if (props[_key]) {\n        instance.off(_eventName + EVENTS_NAMESPACE);\n        instance.on(_eventName + EVENTS_NAMESPACE, props[_key]);\n      }\n    }\n\n    if (!_isEvent && (props[_key] !== oldProps[_key] || useStrict && props[_key] !== instance.getAttr(_key))) {\n      hasUpdates = true;\n      updatedProps[_key] = props[_key];\n    }\n  }\n\n  if (hasUpdates) {\n    instance.setAttrs(updatedProps);\n    updatePicture(instance);\n  }\n}\n// CONCATENATED MODULE: ./src/utils/index.js\n\n\nvar componentPrefix = 'v';\nfunction copy(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\nfunction findParentKonva(instance) {\n  function re(instance) {\n    if (instance.__konvaNode) {\n      return instance;\n    }\n\n    if (instance.parent) {\n      return re(instance.parent);\n    }\n\n    console.error('vue-konva error: Can not find parent node');\n    return {};\n  }\n\n  return re(instance.parent);\n}\nfunction findKonvaNode(instance) {\n  if (instance === null || instance === void 0 ? void 0 : instance.component) {\n    return instance.component.__konvaNode || findKonvaNode(instance.component.subTree);\n  }\n}\n\nfunction checkTagAndGetNode(instance) {\n  var el = instance.el,\n      component = instance.component;\n\n  var __konvaNode = findKonvaNode(instance);\n\n  if ((el === null || el === void 0 ? void 0 : el.tagName) && component && !__konvaNode) {\n    var name = el && el.tagName.toLowerCase();\n    console.error(\"vue-konva error: You are trying to render \\\"\" + name + \"\\\" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.\");\n    return null;\n  }\n\n  return __konvaNode;\n}\n\nfunction getChildren(instance) {\n  var collection = [];\n\n  if (instance.children) {\n    instance.children.forEach(function (child) {\n      // TODO: simplify deep nesting with recursion\n      if (!child.component && Array.isArray(child.children)) {\n        child.children.forEach(function (subChild) {\n          if (!subChild.component && Array.isArray(subChild.children)) {\n            collection.push.apply(collection, subChild.children);\n          } else {\n            collection.push(subChild);\n          }\n        });\n      }\n\n      if (child.component) {\n        collection.push(child);\n      }\n    });\n  }\n\n  return collection;\n}\n\nfunction checkOrder(subTree, konvaNode) {\n  var children = getChildren(subTree);\n  var nodes = [];\n  children.forEach(function (child) {\n    var konvaNode = checkTagAndGetNode(child);\n\n    if (konvaNode) {\n      nodes.push(konvaNode);\n    }\n  });\n  var needRedraw = false;\n  nodes.forEach(function (konvaNode, index) {\n    if (konvaNode.getZIndex() !== index) {\n      konvaNode.setZIndex(index);\n      needRedraw = true;\n    }\n  });\n\n  if (needRedraw) {\n    updatePicture(konvaNode);\n  }\n}\n\n// CONCATENATED MODULE: ./src/components/Stage.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n/* harmony default export */ var Stage = ({\n  props: {\n    config: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    __useStrictMode: {\n      type: Boolean\n    }\n  },\n  inheritAttrs: false,\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots,\n        expose = _ref.expose,\n        emits = _ref.emits;\n    var instance = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"getCurrentInstance\"])();\n    var oldProps = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"reactive\"])({});\n    var container = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"ref\"])(null);\n\n    var __konvaNode = new window.Konva.Stage({\n      width: props.config.width,\n      height: props.config.height,\n      container: document.createElement('div') // Fake container. Will be replaced\n\n    });\n\n    instance.__konvaNode = __konvaNode; // Save on component instance\n\n    uploadKonva();\n\n    function getNode() {\n      return instance.__konvaNode;\n    }\n\n    function getStage() {\n      return instance.__konvaNode;\n    }\n\n    function uploadKonva() {\n      var existingProps = oldProps || {};\n\n      var newProps = _extends({}, attrs, props.config);\n\n      applyNodeProps(instance, newProps, existingProps, props.__useStrictMode);\n      Object.assign(oldProps, newProps);\n    }\n\n    function validateChildren() {\n      return null;\n    }\n\n    Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onMounted\"])(function () {\n      container.value.innerHTML = '';\n\n      __konvaNode.container(container.value);\n\n      uploadKonva();\n      validateChildren();\n    });\n    Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onUpdated\"])(function () {\n      uploadKonva();\n      checkOrder(instance.subTree, __konvaNode);\n    });\n    Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onBeforeUnmount\"])(function () {\n      __konvaNode.destroy();\n    });\n    Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"watch\"])(function () {\n      return props.config;\n    }, uploadKonva, {\n      deep: true\n    });\n    expose({\n      getStage: getStage,\n      getNode: getNode\n    }); // Loop order test appears to be problem with an empty v-for on layer objects\n    //     - When the second item is added to the list we get a Vue internals bug.\n    //     - Possibly related to https://github.com/vuejs/vue-next/issues/2715\n\n    return function () {\n      var _slots$default;\n\n      return Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"h\"])('div', {\n        ref: container\n      }, (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots));\n    };\n  }\n});\n// CONCATENATED MODULE: ./src/components/KonvaNode.js\nfunction KonvaNode_extends() { KonvaNode_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return KonvaNode_extends.apply(this, arguments); }\n\n\n\nvar KonvaNode_EVENTS_NAMESPACE = '.vue-konva-event';\nvar CONTAINERS = {\n  Group: true,\n  Layer: true,\n  FastLayer: true,\n  Label: true\n};\n/* harmony default export */ var KonvaNode = (function (nameNode) {\n  return {\n    props: {\n      config: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      __useStrictMode: {\n        type: Boolean\n      }\n    },\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n          slots = _ref.slots,\n          expose = _ref.expose;\n      var instance = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"getCurrentInstance\"])();\n      var oldProps = Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"reactive\"])({});\n      var NodeClass = window.Konva[nameNode];\n\n      if (!NodeClass) {\n        console.error('vue-konva error: Can not find node ' + nameNode);\n        return;\n      }\n\n      var __konvaNode = new NodeClass();\n\n      instance.__konvaNode = __konvaNode;\n      instance.vnode.__konvaNode = __konvaNode;\n      uploadKonva();\n\n      function getNode() {\n        return instance.__konvaNode;\n      }\n\n      function getStage() {\n        return instance.__konvaNode;\n      }\n\n      function uploadKonva() {\n        var events = {};\n\n        for (var key in instance.vnode.props) {\n          if (key.slice(0, 2) === 'on') {\n            events[key] = instance.vnode.props[key];\n          }\n        }\n\n        var existingProps = oldProps || {};\n\n        var newProps = KonvaNode_extends({}, attrs, props.config, events);\n\n        applyNodeProps(instance, newProps, existingProps, props.__useStrictMode);\n        Object.assign(oldProps, newProps);\n      }\n\n      Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onMounted\"])(function () {\n        var parentKonvaNode = findParentKonva(instance).__konvaNode;\n\n        parentKonvaNode.add(__konvaNode);\n        updatePicture(__konvaNode);\n      });\n      Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onUnmounted\"])(function () {\n        updatePicture(__konvaNode);\n\n        __konvaNode.destroy();\n\n        __konvaNode.off(KonvaNode_EVENTS_NAMESPACE);\n      });\n      Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"onUpdated\"])(function () {\n        uploadKonva();\n        checkOrder(instance.subTree, __konvaNode);\n      });\n      Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"watch\"])(function () {\n        return props.config;\n      }, uploadKonva, {\n        deep: true\n      });\n      expose({\n        getStage: getStage,\n        getNode: getNode\n      });\n      var isContainer = CONTAINERS[nameNode];\n      return isContainer ? function () {\n        var _slots$default;\n\n        return Object(external_root_Vue_commonjs2_vue_commonjs_vue_amd_vue_[\"h\"])('template', {}, (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots));\n      } : function () {\n        return null;\n      };\n    }\n  };\n});\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\nif (typeof window !== 'undefined' && !window.Konva) {\n  __webpack_require__(1);\n}\n\nvar KONVA_NODES = ['Layer', 'FastLayer', 'Group', 'Label', 'Rect', 'Circle', 'Ellipse', 'Wedge', 'Line', 'Sprite', 'Image', 'Text', 'TextPath', 'Star', 'Ring', 'Arc', 'Tag', 'Path', 'RegularPolygon', 'Arrow', 'Shape', 'Transformer'];\nvar components = [{\n  name: 'Stage',\n  component: Stage\n}].concat(KONVA_NODES.map(function (name) {\n  return {\n    name: name,\n    component: KonvaNode(name)\n  };\n}));\nvar VueKonva = {\n  install: function install(app, options) {\n    var prefixToUse = componentPrefix;\n\n    if (options && options.prefix) {\n      prefixToUse = options.prefix;\n    }\n\n    components.forEach(function (k) {\n      app.component(\"\" + prefixToUse + k.name, k.component);\n    });\n  }\n};\n/* harmony default export */ var src = __webpack_exports__[\"default\"] = (VueKonva);\n\n/***/ })\n/******/ ])[\"default\"];\n});"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}